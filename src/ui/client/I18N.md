# 国际化工具使用指南

## 📋 可用命令

### 1. 全量替换源码中的中文
```bash
npm run i18n:replace
```
**说明**：扫描所有源码，将中文替换为 `$t()` 函数调用。
**注意**：⚠️ 会直接修改源文件！建议先提交 Git。

### 2. 增量替换（推荐）
```bash
npm run i18n:replace-inc
```
**说明**：只替换新增的中文，不重新处理已翻译的文件。
**使用场景**：项目迭代后，只处理新增代码。

### 3. 自动翻译为英文
```bash
npm run i18n:translate
```
**说明**：调用百度翻译 API，将中文自动翻译为英文。
**前提**：需要配置 `i18n.secret.js` 中的百度翻译密钥。

### 4. 增量添加翻译
```bash
npm run i18n:add
```
**说明**：对比中英文语言包，找出新增的翻译项。
**使用场景**：项目迭代后，发现有新增的中文内容。

### 5. 检查并翻译新增部分
```bash
npm run i18n:check
```
**说明**：翻译步骤4中发现的新增部分。

## 🔄 完整工作流

### 首次使用
```bash
# 1. 全量替换源码
npm run i18n:replace

# 2. 自动翻译
npm run i18n:translate
```

### 项目迭代后
```bash
# 1. 增量替换新代码
npm run i18n:replace-inc

# 2. 找出新增翻译
npm run i18n:add

# 3. 翻译新增部分
npm run i18n:check
```

## ⚙️ 配置文件

### i18n.config.js
- 主配置文件
- 定义扫描目录、排除项等
- ✅ 可以提交到 Git

### i18n.secret.js
- 百度翻译 API 密钥
- ❌ 不会提交到 Git（已在 .gitignore）
- 需要自己申请并填写

### i18n.secret.example.js
- 配置示例文件
- ✅ 可以提交，供团队参考

## 🔐 申请百度翻译 API

1. 访问：http://api.fanyi.baidu.com/
2. 注册并登录
3. 在管理控制台创建应用
4. 获取 APP ID 和密钥
5. 填入 `i18n.secret.js`

## 📝 生成的 Key 格式

自动生成的翻译键格式：`@文件hash:中文内容`

示例：
```javascript
$t('@62592:提交')
$t('@62592:取消')
```

## ⚠️ 注意事项

1. **备份代码**：运行前先提交 Git，避免误操作
2. **测试优先**：可以先设置 `output` 输出到临时目录测试
3. **API 限制**：百度翻译 API 有 QPS 限制，默认 10
4. **文件忽略**：在文件顶部添加 `i18n-disabled` 注释可跳过

## 🚫 忽略翻译

在不想被工具处理的文件顶部添加：

```vue
<!-- i18n-disabled -->
<template>
  ...
</template>
```

或在 JS 文件：
```javascript
// i18n-disabled
```

## 📚 更多信息

参考 `lib/package-vue-i18n/README.md` 获取详细文档。
