/* =======================================================
   深色主题样式文件 - 专门处理深色模式的样式覆盖
   ======================================================= */

/* 导入全局CSS变量 */
@use './variables';

/* =======================================================
   深色主题变量覆盖
   ======================================================= */
   
[data-theme="dark"] {
  /* 页面背景 */
  --bg-page: var(--bg-page-dark);
  --bg-title: var(--bg-title-dark);
  --bg-container: var(--bg-container-dark);
  
  /* 文字颜色 */
  --text-primary: var(--text-primary-dark);
  --text-secondary: var(--text-secondary-dark);
  --text-tertiary: var(--text-tertiary-dark);
  --text-placeholder: var(--text-placeholder-dark);
  
  /* 全局文字颜色覆盖 */
  --color-text: var(--text-primary-dark);
  --color-text-secondary: var(--text-secondary-dark);
  --color-text-tertiary: var(--text-tertiary-dark);
  --color-text-placeholder: var(--text-placeholder-dark);
  
  /* 边框颜色 */
  --border-color: var(--border-color-dark);
  --border-color-light: rgba(255, 255, 255, 0.08);
  --border-color-medium: rgba(255, 255, 255, 0.12);
  
  /* 阴影 */
  --shadow-sm: var(--shadow-dark);
  --shadow-base: var(--shadow-dark);
  --shadow-md: var(--shadow-dark-lg);
  --shadow-lg: var(--shadow-dark-lg);
  --shadow-xl: 0 12px 32px rgba(0, 0, 0, 0.4);
  
  /* Git差异显示 - 深色主题调整 */
  --git-diff-context-bg: #24292e;
  --git-diff-context-color: #f8f8f2;
  --git-diff-header-bg: #1f2937;
  --git-diff-header-color: #60a5fa;
  --git-diff-header-border: #374151;
  --git-diff-added-bg: rgba(34, 134, 58, 0.15);
  --git-diff-added-color: #56d364;
  --git-diff-removed-bg: rgba(248, 81, 73, 0.15);
  --git-diff-removed-color: #f85149;
  --git-diff-hunk-bg: #1f2937;
  --git-diff-hunk-color: #a78bfa;
}

/* =======================================================
   深色主题专用组件样式
   ======================================================= */

[data-theme="dark"] {
  /* Header 深色主题 */
  .app-header {
    background: var(--bg-container-dark);
    color: var(--text-primary-dark);
    border-bottom-color: var(--border-color-dark);
    box-shadow: var(--shadow-dark);
  }

  /* Footer 深色主题 */
  .app-footer {
    background: var(--bg-container-dark);
    color: var(--text-primary-dark);
    border-top-color: var(--border-color-dark);
    box-shadow: var(--shadow-dark);
  }

  /* Card 深色主题 */
  .app-card {
    background: var(--bg-container-dark);
    border-color: var(--border-color-dark);
    box-shadow: var(--shadow-dark);
  }

  .app-card:hover {
    box-shadow: var(--shadow-dark-lg);
  }

  .app-card-header {
    border-bottom-color: var(--border-color-light);
  }

  .app-card-header h2 {
    color: var(--text-primary-dark);
  }

  .app-card-footer {
    border-top-color: var(--border-color-light);
    background: rgba(255, 255, 255, 0.02);
  }

  /* Modern Button 深色主题 */
  .modern-btn {
    background: rgba(255, 255, 255, 0.08);
    color: rgba(255, 255, 255, 0.9);
    border-color: rgba(255, 255, 255, 0.1);
  }

  .modern-btn:hover {
    background: rgba(255, 255, 255, 0.12);
    color: white;
    border-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  .modern-btn:disabled:hover {
    background: rgba(255, 255, 255, 0.08);
  }

  /* 用户信息区域深色主题 */
  #user-info {
    background: rgba(255, 255, 255, 0.06);
    border-color: rgba(255, 255, 255, 0.1);
  }

  #user-info:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.2);
  }

  .user-email {
    color: rgba(255, 255, 255, 0.7);
  }

  /* 目录选择器深色主题 */
  .directory-selector {
    background: rgba(255, 255, 255, 0.06);
    border-color: rgba(255, 255, 255, 0.1);
  }

  .directory-selector:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.2);
  }

  .directory-path {
    color: rgba(255, 255, 255, 0.9);
    background-color: rgba(0, 0, 0, 0.2);
    border-color: rgba(255, 255, 255, 0.1);
  }

  /* 分支信息深色主题 */
  .branch-wrapper {
    background-color: rgba(255, 255, 255, 0.15);
    border-color: rgba(255, 255, 255, 0.2);
  }

  .branch-wrapper:hover {
    background-color: rgba(255, 255, 255, 0.2);
  }

  .branch-label {
    color: rgba(255, 255, 255, 0.9);
  }

  .footer-right {
    background-color: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.15);
    color: rgba(255, 255, 255, 0.9);
  }

  .repo-url-label {
    color: rgba(255, 255, 255, 0.9);
  }

  .repo-url {
    color: rgba(255, 255, 255, 0.7);
  }

  /* Git命令预览深色主题 */
  .git-command-preview .preview-container {
    background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
    border-color: #4a5568;
  }

  .git-command-preview .preview-container:hover {
    background: linear-gradient(135deg, #2d3748 0%, #2c5282 100%);
    border-color: #409eff;
  }

  .git-command-preview .preview-title {
    color: #e2e8f0;
  }

  .git-command-preview .preview-content {
    background: linear-gradient(135deg, #1e1e1e 0%, #2a2a2a 100%);
    color: #e8f4fd;
    border-color: #404040;
  }

  .git-command-preview .copy-command-btn {
    background: linear-gradient(135deg, rgba(64, 158, 255, 0.1) 0%, rgba(102, 177, 255, 0.1) 100%);
    border-color: rgba(64, 158, 255, 0.2);
    color: #409eff;
  }

  .git-command-preview .copy-command-btn:hover {
    background: linear-gradient(135deg, rgba(64, 158, 255, 0.15) 0%, rgba(102, 177, 255, 0.15) 100%);
    border-color: rgba(64, 158, 255, 0.4);
  }

  /* 滚动条深色主题 */
  .preview-content::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
  }

  .preview-content::-webkit-scrollbar-thumb {
    background: rgba(64, 158, 255, 0.5);
  }

  .preview-content::-webkit-scrollbar-thumb:hover {
    background: rgba(64, 158, 255, 0.7);
  }

  /* 主容器深色主题 */
  .main-container {
    background: var(--bg-page-dark);
  }

  /* 提交表单容器深色主题 */
  .commit-form-container,
  .layout-container {
    background: var(--bg-container-dark) !important;
  }

  /* 提交信息输入区域深色主题 */
  .commit-message-container,
  .description-container {
    background: var(--bg-container-dark) !important;
  }

  /* Git命令预览区域深色主题 */
  .git-command-preview,
  .preview-section {
    background: var(--bg-container-dark) !important;
  }

  /* 开关卡片区域深色主题 */
  .header-switches,
  .commit-options {
    background: transparent !important;
  }

  /* Git状态组件深色主题 */
  .git-status-card,
  .status-card {
    background: var(--bg-container-dark);
    border-color: var(--border-color-dark);
  }

  /* 提交表单深色主题 */
  .commit-form,
  .commit-section {
    background: var(--bg-container-dark);
  }

  /* 提交历史深色主题 */
  .log-list,
  .history-list,
  .commit-list {
    background: var(--bg-container-dark);
  }

  /* 输入框深色主题 */
  .el-input__wrapper {
    background-color: rgba(255, 255, 255, 0.08) !important;
    border-color: rgba(255, 255, 255, 0.15) !important;
    box-shadow: none !important;
  }

  .el-input__wrapper:hover {
    border-color: rgba(255, 255, 255, 0.25) !important;
  }

  .el-input__wrapper.is-focus {
    border-color: #409eff !important;
    box-shadow: 0 0 0 1px rgba(64, 158, 255, 0.2) !important;
  }

  .el-input__inner {
    color: rgba(255, 255, 255, 0.9) !important;
    background-color: transparent !important;
  }

  .el-input__inner::placeholder {
    color: rgba(255, 255, 255, 0.5) !important;
  }

  .el-textarea__inner {
    background-color: rgba(255, 255, 255, 0.08) !important;
    border-color: rgba(255, 255, 255, 0.15) !important;
    color: rgba(255, 255, 255, 0.9) !important;
    box-shadow: none !important;
  }

  .el-textarea__inner:hover {
    border-color: rgba(255, 255, 255, 0.25) !important;
  }

  .el-textarea__inner:focus {
    border-color: #409eff !important;
    box-shadow: 0 0 0 1px rgba(64, 158, 255, 0.2) !important;
  }

  .el-textarea__inner::placeholder {
    color: rgba(255, 255, 255, 0.5) !important;
  }

  /* 自动完成输入框 */
  .el-autocomplete .el-input__wrapper {
    background-color: rgba(255, 255, 255, 0.08) !important;
    border-color: rgba(255, 255, 255, 0.15) !important;
  }

  /* 提交信息输入框特殊样式 */
  .commit-message-input .el-textarea__inner {
    background-color: rgba(255, 255, 255, 0.05) !important;
    border-color: rgba(255, 255, 255, 0.1) !important;
  }

  /* 提交信息输入框容器深色主题 */
  .commit-message-input {
    background: rgba(255, 255, 255, 0.02) !important;
  }

  /* 标准化提交表单深色主题 */
  .standard-commit-form,
  .commit-form-wrapper {
    background: var(--bg-container-dark) !important;
  }

  /* 提交表单各个区域深色主题 */
  .form-row,
  .form-group {
    background: transparent !important;
  }

  /* Git状态文件列表容器 */
  .file-list,
  .status-list,
  .files-container {
    background: var(--bg-container-dark) !important;
  }

  /* 渐变背景深色主题覆盖 */
  .option-card {
    background: linear-gradient(135deg, var(--bg-container-dark) 0%, rgba(255, 255, 255, 0.05) 100%) !important;
  }

  .stash-header {
    background: linear-gradient(135deg, var(--bg-container-dark) 0%, rgba(255, 255, 255, 0.05) 100%) !important;
  }
  .commit-message-input {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.02) 0%, rgba(255, 255, 255, 0.05) 100%) !important;
  }

  /* Element Plus Card组件深色主题 */
  .el-card {
    background-color: var(--bg-container-dark) !important;
    border-color: var(--border-color-dark) !important;
  }

  .el-card__header {
    background-color: var(--bg-container-dark) !important;
    border-bottom-color: var(--border-color-dark) !important;
    color: var(--color-text) !important;
  }

  .el-card__body {
    background-color: var(--bg-container-dark) !important;
    color: var(--color-text) !important;
  }

  /* Element Plus组件深色主题 */
  .el-input .el-input__wrapper {
    background-color: rgba(255, 255, 255, 0.08) !important;
  }

  .el-select-dropdown {
    background-color: var(--bg-container-dark) !important;
    border-color: var(--border-color-dark) !important;
  }

  .el-select-dropdown__item {
    color: rgba(255, 255, 255, 0.9) !important;
  }

  .el-select-dropdown__item:hover {
    background-color: rgba(64, 158, 255, 0.2) !important;
  }

  .el-select-dropdown__item.selected {
    background-color: rgba(64, 158, 255, 0.3) !important;
    color: #409eff !important;
  }

  /* 自动完成下拉菜单 */
  .el-autocomplete-suggestion {
    background-color: var(--bg-container-dark) !important;
    border-color: var(--border-color-dark) !important;
  }

  .el-autocomplete-suggestion__wrap {
    background-color: var(--bg-container-dark) !important;
  }

  .el-autocomplete-suggestion li {
    color: rgba(255, 255, 255, 0.9) !important;
  }

  .el-autocomplete-suggestion li:hover {
    background-color: rgba(64, 158, 255, 0.2) !important;
  }

  .el-autocomplete-suggestion li.highlighted {
    background-color: rgba(64, 158, 255, 0.3) !important;
  }

  /* 弹窗深色主题 */
  .el-dialog {
    background-color: var(--bg-container-dark) !important;
    border: 1px solid var(--border-color-dark) !important;
  }

  .el-dialog__header {
    background-color: rgba(255, 255, 255, 0.02) !important;
    border-bottom: 1px solid var(--border-color-dark) !important;
  }

  .el-dialog__title {
    color: rgba(255, 255, 255, 0.9) !important;
  }

  .el-dialog__body {
    background-color: var(--bg-container-dark) !important;
    color: rgba(255, 255, 255, 0.9) !important;
  }

  .el-dialog__footer {
    background-color: rgba(255, 255, 255, 0.02) !important;
    border-top: 1px solid var(--border-color-dark) !important;
  }

  /* 抽屉深色主题 */
  .el-drawer {
    background-color: var(--bg-container-dark) !important;
    border-left: 1px solid var(--border-color-dark) !important;
  }

  .el-drawer__header {
    background-color: rgba(255, 255, 255, 0.02) !important;
    border-bottom: 1px solid var(--border-color-dark) !important;
    color: rgba(255, 255, 255, 0.9) !important;
  }

  .el-drawer__body {
    background-color: var(--bg-container-dark) !important;
    color: rgba(255, 255, 255, 0.9) !important;
  }

  /* 遮罩层深色主题 */
  .el-overlay {
    background-color: rgba(0, 0, 0, 0.7) !important;
  }

  /* 消息提示深色主题 */
  .el-message {
    background-color: var(--bg-container-dark) !important;
    border-color: var(--border-color-dark) !important;
    color: rgba(255, 255, 255, 0.9) !important;
  }

  .el-message.el-message--success {
    background-color: rgba(103, 194, 58, 0.1) !important;
    border-color: rgba(103, 194, 58, 0.3) !important;
  }

  .el-message.el-message--warning {
    background-color: rgba(230, 162, 60, 0.1) !important;
    border-color: rgba(230, 162, 60, 0.3) !important;
  }

  .el-message.el-message--error {
    background-color: rgba(245, 108, 108, 0.1) !important;
    border-color: rgba(245, 108, 108, 0.3) !important;
  }

  /* 标签深色主题 */
  .el-tag {
    background-color: rgba(255, 255, 255, 0.1) !important;
    border-color: rgba(255, 255, 255, 0.2) !important;
    color: rgba(255, 255, 255, 0.9) !important;
  }

  .el-tag.el-tag--success {
    background-color: rgba(103, 194, 58, 0.2) !important;
    border-color: rgba(103, 194, 58, 0.4) !important;
    color: #67c23a !important;
  }

  .el-tag.el-tag--warning {
    background-color: rgba(230, 162, 60, 0.2) !important;
    border-color: rgba(230, 162, 60, 0.4) !important;
    color: #e6a23c !important;
  }

  .el-tag.el-tag--danger {
    background-color: rgba(245, 108, 108, 0.2) !important;
    border-color: rgba(245, 108, 108, 0.4) !important;
    color: #f56c6c !important;
  }

  /* 按钮深色主题 */
  .el-button {
    background-color: rgba(255, 255, 255, 0.08) !important;
    border-color: rgba(255, 255, 255, 0.15) !important;
    color: rgba(255, 255, 255, 0.9) !important;
  }

  .el-button:hover {
    background-color: rgba(255, 255, 255, 0.12) !important;
    border-color: rgba(255, 255, 255, 0.25) !important;
  }

  .el-button--primary {
    background-color: #409eff !important;
    border-color: #409eff !important;
  }

  .el-button--primary:hover {
    background-color: #66b1ff !important;
    border-color: #66b1ff !important;
  }

  .el-button--success {
    background-color: #67c23a !important;
    border-color: #67c23a !important;
  }

  .el-button--success:hover {
    background-color: #85ce61 !important;
    border-color: #85ce61 !important;
  }

  .el-button--warning {
    background-color: #e6a23c !important;
    border-color: #e6a23c !important;
  }

  .el-button--warning:hover {
    background-color: #ebb563 !important;
    border-color: #ebb563 !important;
  }

  .el-button--danger {
    background-color: #f56c6c !important;
    border-color: #f56c6c !important;
  }

  .el-button--danger:hover {
    background-color: #f78989 !important;
    border-color: #f78989 !important;
  }

  /* 特定组件深色主题 */
  
  /* Git状态文件列表 */
  .file-item,
  .status-item,
  .file-list-item {
    background: rgba(255, 255, 255, 0.03) !important;
    border-color: var(--border-color-dark) !important;
    color: rgba(255, 255, 255, 0.9) !important;
  }

  .file-item:hover,
  .status-item:hover,
  .file-list-item:hover {
    background: rgba(255, 255, 255, 0.08) !important;
  }

  /* 文件状态标识 */
  .file-status,
  .status-indicator {
    color: rgba(255, 255, 255, 0.8) !important;
  }

  /* 文件路径文本 */
  .file-path,
  .file-name {
    color: rgba(255, 255, 255, 0.9) !important;
  }

  /* 提交历史列表项 */
  .commit-item,
  .log-item,
  .commit-list-item,
  .history-item-wrapper {
    background: rgba(255, 255, 255, 0.03) !important;
    border-color: var(--border-color-dark) !important;
    color: rgba(255, 255, 255, 0.9) !important;
  }

  .commit-item:hover,
  .log-item:hover,
  .commit-list-item:hover,
  .history-item-wrapper:hover {
    background: rgba(255, 255, 255, 0.08) !important;
  }

  /* 提交信息文本 */
  .commit-message,
  .commit-title {
    color: rgba(255, 255, 255, 0.9) !important;
  }

  /* 提交作者和时间 */
  .commit-author,
  .commit-time,
  .commit-date {
    color: rgba(255, 255, 255, 0.6) !important;
  }

  /* 提交哈希 */
  .commit-hash,
  .commit-id {
    color: rgba(255, 255, 255, 0.7) !important;
    background: rgba(255, 255, 255, 0.1) !important;
  }

  /* 代码差异显示 */
  .diff-content,
  .diff-viewer {
    background: var(--bg-container-dark) !important;
    color: rgba(255, 255, 255, 0.9) !important;
  }

  /* 空状态显示 */
  .el-empty {
    color: rgba(255, 255, 255, 0.6) !important;
  }

  .el-empty__description {
    color: rgba(255, 255, 255, 0.5) !important;
  }

  /* 加载状态 */
  .loading-container,
  .loading-card {
    background: var(--bg-container-dark) !important;
    border-color: var(--border-color-dark) !important;
  }

  /* 警告提示 */
  .el-alert {
    background-color: rgba(255, 255, 255, 0.05) !important;
    border-color: var(--border-color-dark) !important;
    color: rgba(255, 255, 255, 0.9) !important;
  }

  .el-alert--warning {
    background-color: rgba(230, 162, 60, 0.1) !important;
    border-color: rgba(230, 162, 60, 0.3) !important;
  }

  .el-alert--success {
    background-color: rgba(103, 194, 58, 0.1) !important;
    border-color: rgba(103, 194, 58, 0.3) !important;
  }

  .el-alert--error {
    background-color: rgba(245, 108, 108, 0.1) !important;
    border-color: rgba(245, 108, 108, 0.3) !important;
  }

  .el-alert--info {
    background-color: rgba(64, 158, 255, 0.1) !important;
    border-color: rgba(64, 158, 255, 0.3) !important;
  }

  /* 工具提示 */
  .el-tooltip__popper {
    background-color: rgba(0, 0, 0, 0.9) !important;
    border-color: rgba(255, 255, 255, 0.2) !important;
  }

  /* 下拉菜单 */
  .el-dropdown-menu {
    background-color: var(--bg-container-dark) !important;
    border-color: var(--border-color-dark) !important;
  }

  .el-dropdown-menu__item {
    color: rgba(255, 255, 255, 0.9) !important;
  }

  .el-dropdown-menu__item:hover {
    background-color: rgba(64, 158, 255, 0.2) !important;
  }

  /* 表格 */
  .el-table {
    background-color: var(--bg-container-dark) !important;
    color: rgba(255, 255, 255, 0.9) !important;
  }

  .el-table th {
    background-color: rgba(255, 255, 255, 0.05) !important;
    border-color: var(--border-color-dark) !important;
    color: rgba(255, 255, 255, 0.9) !important;
  }

  .el-table td {
    border-color: var(--border-color-dark) !important;
  }

  .el-table--striped .el-table__body tr.el-table__row--striped td {
    background-color: rgba(255, 255, 255, 0.02) !important;
  }

  .el-table__body tr:hover > td {
    background-color: rgba(64, 158, 255, 0.1) !important;
  }

  /* 分页器 */
  .el-pagination {
    color: rgba(255, 255, 255, 0.9) !important;
  }

  .el-pagination .el-pager li {
    background-color: rgba(255, 255, 255, 0.08) !important;
    color: rgba(255, 255, 255, 0.9) !important;
    border-color: var(--border-color-dark) !important;
  }

  .el-pagination .el-pager li:hover {
    background-color: rgba(64, 158, 255, 0.2) !important;
  }

  .el-pagination .el-pager li.active {
    background-color: #409eff !important;
    color: white !important;
  }

  /* 开关组件 */
  .el-switch {
    --el-switch-off-color: rgba(255, 255, 255, 0.2) !important;
  }

  /* 复选框 */
  .el-checkbox__input.is-checked .el-checkbox__inner {
    background-color: #409eff !important;
    border-color: #409eff !important;
  }

  .el-checkbox__inner {
    background-color: rgba(255, 255, 255, 0.08) !important;
    border-color: rgba(255, 255, 255, 0.2) !important;
  }

  .el-checkbox__label {
    color: rgba(255, 255, 255, 0.9) !important;
  }

  /* 单选框 */
  .el-radio__input.is-checked .el-radio__inner {
    background-color: #409eff !important;
    border-color: #409eff !important;
  }

  .el-radio__inner {
    background-color: rgba(255, 255, 255, 0.08) !important;
    border-color: rgba(255, 255, 255, 0.2) !important;
  }

  .el-radio__label {
    color: rgba(255, 255, 255, 0.9) !important;
  }

  /* 进度条 */
  .el-progress-bar__outer {
    background-color: rgba(255, 255, 255, 0.1) !important;
  }

  /* 面包屑 */
  .el-breadcrumb__item {
    color: rgba(255, 255, 255, 0.7) !important;
  }

  .el-breadcrumb__item:last-child {
    color: rgba(255, 255, 255, 0.9) !important;
  }

  /* 步骤条 */
  .el-steps .el-step__title {
    color: rgba(255, 255, 255, 0.9) !important;
  }

  .el-steps .el-step__description {
    color: rgba(255, 255, 255, 0.6) !important;
  }

  /* 时间线 */
  .el-timeline-item__content {
    color: rgba(255, 255, 255, 0.9) !important;
  }

  .el-timeline-item__timestamp {
    color: rgba(255, 255, 255, 0.6) !important;
  }
}

/* =======================================================
   深色主题专用动画和过渡效果
   ======================================================= */

[data-theme="dark"] {
  /* 深色主题下的特殊动画效果 */
  .modern-btn::before {
    background: linear-gradient(135deg, rgba(64, 158, 255, 0.2) 0%, rgba(102, 177, 255, 0.2) 100%);
  }

  /* 深色主题下的悬浮发光效果 */
  .app-card:hover {
    box-shadow: 
      var(--shadow-dark-lg),
      0 0 20px rgba(64, 158, 255, 0.1);
  }

  .modern-btn:hover {
    box-shadow: 
      0 4px 12px rgba(0, 0, 0, 0.15),
      0 0 8px rgba(64, 158, 255, 0.2);
  }
}
